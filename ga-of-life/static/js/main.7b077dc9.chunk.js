(this["webpackJsonpga-of-life"]=this["webpackJsonpga-of-life"]||[]).push([[0],{41:function(e,t,i){var n=i(53),a=["init","reset","step"];e.exports=function(){var e=new Worker(i.p+"d7695386e65e69f0861f.worker.js",{name:"[hash].worker.js"});return n(e,a),e}},49:function(e,t,i){},50:function(e,t,i){},62:function(e,t,i){"use strict";i.r(t);var n=i(0),a=i.n(n),s=i(24),c=i.n(s),l=(i(49),i(10)),r=(i(50),i(29)),o=i(9),u=i(11),d=i(26),j=i(39),h=i(19),b=i.n(h),x=i(25),f=i(7),O=i(15),m=i(5),p=i(8);function v(e,t,i){return Math.max(Math.min(i,e),t)}var g,S=i(1),y=a.a.createContext(),C=a.a.createContext(),w={borderWraps:!1,gridSize:64},N=void 0;function A(e,t){switch(t.type){case"borderWraps":return Object(f.a)(Object(f.a)({},e),{},{borderWraps:t.value});case"gridSize":return Object(f.a)(Object(f.a)({},e),{},{gridSize:v(t.value,32,128)});default:console.error("Unexpected action:",t.type)}}function R(){return z.apply(this,arguments)}function z(){return(z=Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=5;break}return console.info("Loading CA wasm"),e.next=4,i.e(3).then(i.bind(null,70));case 4:g=e.sent;case 5:return e.abrupt("return",g);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){switch(t.type){case"initialize":return N;case"initialized":return{ca:t.ca,seed:t.seed,numSteps:0,autoRun:!1};case"toggleAutoRun":return Object(f.a)(Object(f.a)({},e),{},{autoRun:!e.autoRun});case"executedStep":return Object(f.a)(Object(f.a)({},e),{},{numSteps:e.numSteps+1,caStats:t.stats});default:console.error("Unexpected action:",t.type)}}function M(e){var t,i=e.seed,a=Object(n.useContext)(C),s=a.caControl,c=a.caControlDispatch,l=Object(n.useContext)(y).caSettings,r=Object(n.useRef)(new Array(l.gridSize*l.gridSize)),o=Object(n.useRef)(null),d=null===(t=o.current)||void 0===t?void 0:t.getContext("2d"),j=null===s||void 0===s?void 0:s.ca,h=r.current,f=l.gridSize,v=l.gridSize,g=Math.max(4,Math.round(384/Math.max(f,v))),w=Object(n.useCallback)((function(e){e.reset();for(var t=(f-8)/2,n=(v-8)/2,a=0;a<8;a++)for(var s=0;s<8;s++)"0"!==i.charAt(a+8*s)&&e.set(a+t,s+n)}),[i,f,v]),N=Object(n.useCallback)((function(){d.beginPath(),d.strokeStyle="#CCCCCC";for(var e=0;e<=f;e++)d.moveTo(e*(g+1)+1,0),d.lineTo(e*(g+1)+1,(g+1)*v+1);for(var t=0;t<=v;t++)d.moveTo(0,t*(g+1)+1),d.lineTo((g+1)*f+1,t*(g+1)+1);d.stroke()}),[d,f,v,g]),A=Object(n.useCallback)((function(){d.beginPath();for(var e=0;e<v;e++)for(var t=0;t<f;t++)j.get(t,e)?d.fillStyle="#000000":h[t+e*f]?d.fillStyle="#A0A0A0":d.fillStyle="#FFFFFF",d.fillRect(t*(g+1)+1,e*(g+1)+1,g,g);d.stroke()}),[d,j,f,v,g,h]),z=Object(n.useCallback)((function(){for(var e=0,t=0;t<v;t++)for(var i=0;i<f;i++)j.get(i,t)&&(h[i+t*f]=!0,e+=1);return{numAlive:e,numOnceAlive:h.filter((function(e){return e})).length}}),[f,v,j,h]),k=Object(n.useCallback)((function(){j.step();var e=z();A(),c({type:"executedStep",stats:e})}),[j,A,c,z]),M=Object(n.useCallback)((function(){h.forEach((function(e,t,i){i[t]=0}))}),[h]),T=Object(n.useCallback)((function(){c({type:"initialize"})}),[c]);return Object(n.useEffect)((function(){function e(){return(e=Object(x.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:t=e.sent,n=new t.GameOfLife(l.gridSize,l.gridSize,l.borderWraps),w(n),M(),c({type:"initialized",ca:n,seed:i});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(null===s||void 0===s?void 0:s.ca)&&s.seed===i?(N(),A()):function(){e.apply(this,arguments)}()}),[i,null===s||void 0===s?void 0:s.ca,null===s||void 0===s?void 0:s.seed,l,c,w,M,N,A]),Object(n.useEffect)((function(){if(null===s||void 0===s?void 0:s.autoRun){var e=setTimeout((function(){k()}),10);return function(){clearTimeout(e)}}})),Object(S.jsxs)(u.a,{children:[Object(S.jsx)(p.a,{className:"ButtonRow",children:Object(S.jsxs)(m.a,{children:[Object(S.jsx)(O.a,{onClick:function(){return c({type:"toggleAutoRun"})},disabled:!s||s.autoRun,children:"Play"})," ",Object(S.jsx)(O.a,{onClick:function(){return c({type:"toggleAutoRun"})},disabled:!s||!s.autoRun,children:"Pause"})," ",Object(S.jsx)(O.a,{onClick:function(){return k()},disabled:!s||s.autoRun,children:"Step"})," ",Object(S.jsx)(O.a,{onClick:function(){return T()},disabled:!s||s.autoRun,children:"Reset"})]})}),Object(S.jsx)(p.a,{children:Object(S.jsx)(m.a,{children:Object(S.jsx)("canvas",{ref:o,width:(g+1)*l.gridSize+1,height:(g+1)*l.gridSize+1})})})]})}var T=i(41),E=i.n(T),P=a.a.createContext();function L(e,t){switch(t.type){case"initialize":return{settings:t.settings};case"initialized":return{worker:t.worker,isRunning:!1,executeStep:!1,autoRun:!0,runTime:0};case"toggleAutoRun":return Object(f.a)(Object(f.a)({},e),{},{autoRun:!e.autoRun});case"executeStep":return Object(f.a)(Object(f.a)({},e),{},{executeStep:!0});case"startStep":return Object(f.a)(Object(f.a)({},e),{},{isRunning:!0,executeStep:!1});case"executedStep":return Object(f.a)(Object(f.a)({},e),{},{isRunning:!1,runTime:e.runTime+t.executionTime,eaState:t.eaState});case"reset":return Object(f.a)(Object(f.a)({},e),{},{destroy:!0});case"executedReset":return;default:console.error("Unexpected action:",t.type)}}function G(){var e=Object(n.useContext)(P),t=e.eaControl,i=e.eaControlDispatch;Object(n.useEffect)((function(){function e(){return(e=Object(x.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.info("Setting worker"),n=new E.a,e.next=4,n.init(t);case 4:i({type:"initialized",worker:n});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.settings&&function(t){e.apply(this,arguments)}(t.settings)}),[t.settings,i]),Object(n.useEffect)((function(){if(t.worker&&!t.isRunning&&(t.executeStep||t.autoRun)){i({type:"startStep"});var e=(new Date).getTime();t.worker.step().then((function(t){var n=(new Date).getTime();i({type:"executedStep",executionTime:n-e,eaState:t})}))}}),[t,i]),Object(n.useEffect)((function(){t.destroy&&(console.info("Terminating worker"),t.worker.terminate(),i({type:"executedReset"}))}),[t.destroy,t.worker,i]);var a=t.isRunning||t.autoRun;return Object(S.jsxs)("div",{className:"ButtonRow",children:[Object(S.jsx)(O.a,{onClick:function(){return i({type:"toggleAutoRun"})},disabled:null===t||void 0===t?void 0:t.autoRun,children:"Run"})," ",Object(S.jsx)(O.a,{onClick:function(){return i({type:"toggleAutoRun"})},disabled:!(null===t||void 0===t?void 0:t.autoRun),children:"Pause"})," ",Object(S.jsx)(O.a,{onClick:function(){return i({type:"executeStep"})},disabled:a,children:"Step"})," ",Object(S.jsx)(O.a,{onClick:function(){return i({type:"reset"})},disabled:a,children:"Reset"})]})}var F=i(21),D=a.a.createContext(),I={populationSize:100,recombinationRate:.4,mutationRate:.9,tournamentSize:2,elitism:!0,fitnessNumToggledCells:1,fitnessNumToggledSteps:0,fitnessMaxAliveCells:0,fitnessMaxAliveSteps:0,fitnessNumStartCells:0};function W(e,t){switch(console.log("dispatched",e,t),t.type){case"populationSize":return Object(f.a)(Object(f.a)({},e),{},{populationSize:v(t.value,10,1e3)});case"recombinationRate":return Object(f.a)(Object(f.a)({},e),{},{recombinationRate:v(t.value,0,1)});case"mutationRate":return Object(f.a)(Object(f.a)({},e),{},{mutationRate:v(t.value,0,1)});case"tournamentSize":return Object(f.a)(Object(f.a)({},e),{},{tournamentSize:v(t.value,1,5)});case"elitism":return Object(f.a)(Object(f.a)({},e),{},{elitism:t.value});case"fitnessNumToggledCells":return Object(f.a)(Object(f.a)({},e),{},{fitnessNumToggledCells:v(t.value,-100,100)});case"fitnessNumToggledSteps":return Object(f.a)(Object(f.a)({},e),{},{fitnessNumToggledSteps:v(t.value,-100,100)});case"fitnessMaxAliveCells":return Object(f.a)(Object(f.a)({},e),{},{fitnessMaxAliveCells:v(t.value,-100,100)});case"fitnessMaxAliveSteps":return Object(f.a)(Object(f.a)({},e),{},{fitnessMaxAliveSteps:v(t.value,-100,100)});case"fitnessNumStartCells":return Object(f.a)(Object(f.a)({},e),{},{fitnessNumStartCells:v(t.value,-100,100)});default:console.error("Unexpected action:",t.type)}}function B(){var e=Object(n.useContext)(y),t=e.caSettings,i=e.caSettingsDispatch,a=Object(n.useContext)(D),s=a.eaSettings,c=a.eaSettingsDispatch,l=Object(n.useContext)(P).eaControlDispatch;function r(e,t,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=a.disabled,l=void 0!==s&&s,r=a.indent,o=void 0!==r&&r,u=a.dispatch,d=void 0===u?c:u,j=a.stepSize,h=void 0===j?1:j,b=20*h<=Math.abs(i)?10*h:h;return Object(S.jsxs)(F.a.Group,{as:p.a,controlId:e,children:[o&&Object(S.jsx)(m.a,{xs:1}),Object(S.jsx)(F.a.Label,{column:!0,xs:o?7:8,children:t}),Object(S.jsx)(m.a,{xs:4,children:Object(S.jsx)(F.a.Control,{type:"number",step:b,value:i,disabled:l,onChange:function(e){return d({type:n,value:e.target.value})}})})]},e)}function o(e,t,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=a.dispatch,l=void 0===s?c:s;return Object(S.jsxs)(F.a.Group,{as:p.a,controlId:e,children:[Object(S.jsx)(F.a.Label,{column:!0,xs:8,children:t}),Object(S.jsx)(m.a,{xs:4,children:Object(S.jsx)(F.a.Check,{type:"checkbox",checked:i,onChange:function(e){return l({type:n,value:e.target.checked})}})})]})}var d=Math.abs(s.fitnessMaxAliveCells)>=.01,j=Math.abs(s.fitnessNumToggledCells)>=.01;return Object(S.jsxs)(F.a,{as:u.a,children:[Object(S.jsx)(p.a,{children:Object(S.jsx)(m.a,{children:Object(S.jsx)("h1",{children:"Settings"})})}),Object(S.jsxs)(p.a,{className:"SettingsRow pt-2 mt-2 mb-2",children:[Object(S.jsx)(m.a,{sm:12,md:3,children:Object(S.jsx)("h5",{children:"CA"})}),Object(S.jsxs)(m.a,{sm:12,md:9,children:[r("formGridSize","Grid size",t.gridSize,"gridSize",{dispatch:i,stepSize:16}),o("formBorderWraps","Enable border wrap",t.borderWraps,"borderWraps",{dispatch:i})]})]}),Object(S.jsxs)(p.a,{className:"SettingsRow pt-2 mt-2 mb-2",children:[Object(S.jsx)(m.a,{sm:12,md:3,children:Object(S.jsx)("h5",{children:"Fitness"})}),Object(S.jsxs)(m.a,{sm:12,md:9,children:[r("formNumToggledCells","Number of toggled cells",s.fitnessNumToggledCells,"fitnessNumToggledCells"),r("formNumToggledSteps","Steps to reach",s.fitnessNumToggledSteps,"fitnessNumToggledSteps",{disabled:!j,indent:!0}),r("formMaxAliveCells","Maximum alive cells",s.fitnessMaxAliveCells,"fitnessMaxAliveCells"),r("formMaxAliveSteps","Step to reach",d?s.fitnessMaxAliveSteps:0,"fitnessMaxAliveSteps",{disabled:!d,indent:!0}),r("formNumStartCells","Number of cells at start",s.fitnessNumStartCells,"fitnessNumStartCells")]})]}),Object(S.jsxs)(p.a,{className:"SettingsRow pt-2 mt-2 mb-2",children:[Object(S.jsx)(m.a,{sm:12,md:3,children:Object(S.jsx)("h5",{children:"Solver"})}),Object(S.jsxs)(m.a,{sm:12,md:9,children:[r("formPopulationSize","Population size",s.populationSize,"populationSize",{stepSize:10}),r("formRecombinationRate","Recombination rate",s.recombinationRate,"recombinationRate",{stepSize:.1}),r("formMutationRate","Mutation rate",s.mutationRate,"mutationRate",{stepSize:.1}),r("formTournamentSize","Tournament size",s.tournamentSize,"tournamentSize"),o("formElitism","Use elitism",s.elitism,"elitism")]})]}),Object(S.jsx)(p.a,{children:Object(S.jsx)(m.a,{children:Object(S.jsx)("center",{children:Object(S.jsx)(O.a,{variant:"primary",type:"submit",onClick:function(){return l({type:"initialize",settings:Object(f.a)(Object(f.a)({},s),t)})},children:"Start"})})})})]})}var V=i(36);function U(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),i=t[0],a=t[1],s=Object(n.useState)(0),c=Object(l.a)(s,2),r=c[0],o=c[1],u=Object(n.useState)(),d=Object(l.a)(u,2),j=d[0],h=d[1],b=Object(n.useContext)(C).caControl,x=null===b||void 0===b?void 0:b.caStats,f=function(){h(V.chart("ea-graph",{title:{text:"CA Stats"},yAxis:[{floor:0,title:{text:"Num. alive cells"}},{floor:0,title:{text:"Num. once alive cells"},opposite:!0}],series:[{name:"Num. alive",type:"line",marker:{enabled:!1},data:[]},{name:"Num. once alive",type:"line",marker:{enabled:!1},yAxis:1,data:[]}]}))};return Object(n.useEffect)((function(){if(j)if(x){if(b.numSteps!==i){var e=Math.max(r,x.numAlive);b.numSteps%10===0?(j.series[0].addPoint([b.numSteps,e],!0,!1),j.series[1].addPoint([b.numSteps,x.numOnceAlive],!0,!1),o(0)):o(e),a(b.numSteps)}}else i>0&&(j.destroy(),f(),a(0),o(0))}),[x,null===b||void 0===b?void 0:b.numSteps,i,r,j]),Object(n.useEffect)((function(){f()}),[]),Object(S.jsx)("div",{id:"ea-graph",style:{height:"400px",width:"100%"}})}function q(e){var t=e.seed,i=Object(o.f)(),a=Object(n.useReducer)(k,N),s=Object(l.a)(a,2),c=s[0],r=s[1];return t||(console.info("No seed. Redirecting to main page"),i.push("/")),t&&Object(S.jsx)(u.a,{children:Object(S.jsx)(p.a,{children:Object(S.jsxs)(C.Provider,{value:{caControl:c,caControlDispatch:r},children:[Object(S.jsx)(m.a,{children:Object(S.jsx)(M,{seed:t})}),Object(S.jsx)(m.a,{children:Object(S.jsx)(U,{})})]})})})}i(40)(V);function J(e){var t=Math.min(1,Math.max(0,Number(e)));return"rgb(".concat(255*(1-t),", ").concat(255*t,", 0)")}function _(e){var t=e.genotype,i=Object(n.useState)(),a=Object(l.a)(i,2),s=a[0],c=a[1],r=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=r.current;if(e.width!==(null===s||void 0===s?void 0:s.canvasWidth)){var t=e.width-27,i=e.height-41,n=Math.floor(t/8),a=Math.floor(i/10),l=Math.min(a,n),o=Math.floor((l-1)/2),u=2*o+1,d=27+8*u,j=41+10*u,h={canvasWidth:e.width,cellSize:o,x0:Math.floor((e.width-d)/2),y0:Math.floor((e.height-j)/2),width:d,height:j};console.info({w:e.width,h:e.height,horizontalCellSpace:t,verticalCellSpace:i,bigCellSize:u}),console.info("Plot settings:",h),c(h)}}),[s]),Object(n.useEffect)((function(){if(s){var e=r.current.getContext("2d");t?function(e,t,i){for(var n=0,a=0,s=0,c=2*t.cellSize+1;n<16;)e.fillStyle=J(i[n]),e.fillRect(a+t.x0+3,s+t.y0+3,c,c),(n+=1)%8===0?(a=0,s+=c+3):a+=c+3;s+=8;for(var l=function(n,a,s){e.fillStyle=J(i[n]),e.fillRect(a+t.x0+3,s+t.y0+3,t.cellSize,t.cellSize)},r=0;n<i.length;)l(n,a,s),l(n+1,a+t.cellSize+1,s),l(n+2,a,s+t.cellSize+1),l(n+3,a+t.cellSize+1,s+t.cellSize+1),n+=4,(r+=1)%8===0?(a=0,s+=c+3):a+=c+3}(e,s,t):function(e,t){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillStyle="#A0A0A0",e.fillRect(t.x0,t.y0,t.width,t.height)}(e,s)}}),[s,t]),Object(S.jsx)("div",{className:"plot-container",children:Object(S.jsx)("canvas",{className:"plot",ref:r,height:200})})}function H(e){var t=255*(1-Math.min(1,Math.max(0,Number(e))));return"rgb(".concat(t,", ").concat(t,", ").concat(t,")")}function K(e){var t=e.phenotype,i=Object(n.useState)(),a=Object(l.a)(i,2),s=a[0],c=a[1],r=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(!s){var e=r.current,t=e.width-21,i=e.height-21,n=Math.floor(t/8),a=Math.floor(i/8),l=Math.min(a,n),o=21+8*l,u=21+8*l,d={cellSize:l,x0:Math.floor((e.width-o)/2),y0:Math.floor((e.height-u)/2),width:o,height:u};console.info("Plot settings:",d),c(d)}}),[s]),Object(n.useEffect)((function(){if(s){var e=r.current.getContext("2d");t?function(e,t,i){for(var n=0,a=0,s=0;n<i.length;)e.fillStyle=H(i[n]),e.fillRect(a+t.x0,s+t.y0,t.cellSize,t.cellSize),(n+=1)%8===0?(a=0,s+=t.cellSize+3):a+=t.cellSize+3}(e,s,t):function(e,t){e.clearRect(0,0,e.canvas.width,e.canvas.height)}(e)}}),[s,t]),Object(S.jsx)("div",{className:"plot-container",children:Object(S.jsx)("canvas",{className:"plot",ref:r,height:200})})}var Y=i(36);i(40)(Y);function Q(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),i=t[0],a=t[1],s=Object(n.useState)(0),c=Object(l.a)(s,2),r=c[0],o=c[1],u=Object(n.useState)(),d=Object(l.a)(u,2),j=d[0],h=d[1],b=Object(n.useContext)(P).eaControl,x=null===b||void 0===b?void 0:b.eaState,f=function(){h(Y.chart("ea-graph",{title:{text:"Optimization Progress"},yAxis:[{title:{text:"Fitness"}},{title:{text:"Evaluations"},opposite:!0}],series:[{name:"Max. fitness",type:"line",marker:{enabled:!1},data:[]},{name:"Num. evaluations",type:"line",marker:{enabled:!1},yAxis:1,data:[]}]}))};return Object(n.useEffect)((function(){if(j)if(x){if((null===x||void 0===x?void 0:x.generations)!==i){var e=250===r;j.series[0].addPoint([x.generations,x.maxFitness],!0,e),j.series[1].addPoint([x.generations,x.evaluationsDelta],!0,e),a(x.generations),e||o(r+1)}}else i>0&&(j.destroy(),f(),a(0),o(0))}),[x,j,r,i]),Object(n.useEffect)((function(){f()}),[]),Object(S.jsx)("div",{id:"ea-graph",style:{height:"400px",width:"100%"}})}function X(){var e=Object(n.useContext)(P).eaControl,t=null===e||void 0===e?void 0:e.eaState;if(!t)return null;var i=e.runTime/1e3;return Object(S.jsxs)(u.a,{children:[Object(S.jsxs)(p.a,{children:[Object(S.jsx)(m.a,{className:"Label",xs:8,children:"Num. generations"}),Object(S.jsx)(m.a,{className:"NumValue",xs:4,children:t.generations})]}),Object(S.jsxs)(p.a,{children:[Object(S.jsx)(m.a,{className:"Label",xs:8,children:"Num. evaluations"}),Object(S.jsx)(m.a,{className:"NumValue",xs:4,children:t.evaluations})]}),Object(S.jsxs)(p.a,{children:[Object(S.jsx)(m.a,{className:"Label",xs:8,children:"Num. CA steps"}),Object(S.jsx)(m.a,{className:"NumValue",xs:4,children:t.caSteps})]}),Object(S.jsxs)(p.a,{children:[Object(S.jsx)(m.a,{className:"Label",xs:8,children:"Max. fitness"}),Object(S.jsx)(m.a,{className:"NumValue",xs:4,children:Math.round(t.maxFitness)})]}),Object(S.jsxs)(p.a,{children:[Object(S.jsx)(m.a,{className:"Label",xs:8,children:"Avg. fitness"}),Object(S.jsx)(m.a,{className:"NumValue",xs:4,children:Math.round(t.avgFitness)})]}),Object(S.jsxs)(p.a,{children:[Object(S.jsx)(m.a,{className:"Label",xs:8,children:"Run time [s]"}),Object(S.jsx)(m.a,{className:"NumValue",xs:4,children:Math.round(i)})]}),Object(S.jsxs)(p.a,{children:[Object(S.jsx)(m.a,{className:"Label",xs:8,children:"EA speed [evals/s]"}),Object(S.jsx)(m.a,{className:"NumValue",xs:4,children:i>0?Math.round(t.evaluations/i):"-"})]}),Object(S.jsxs)(p.a,{children:[Object(S.jsx)(m.a,{className:"Label",xs:8,children:"CA speed [steps/s]"}),Object(S.jsx)(m.a,{className:"NumValue",xs:4,children:i>0?Math.round(t.caSteps/i):"-"})]})]})}function Z(){var e,t,i,a,s=Object(n.useContext)(P).eaControl;return Object(S.jsxs)(u.a,{children:[Object(S.jsxs)(p.a,{children:[Object(S.jsx)(m.a,{lg:4,xs:6,children:Object(S.jsxs)(u.a,{children:[Object(S.jsx)(p.a,{children:Object(S.jsx)(m.a,{children:Object(S.jsx)(G,{})})}),Object(S.jsx)(p.a,{children:Object(S.jsx)(X,{})})]})}),Object(S.jsx)(m.a,{lg:8,xs:12,children:Object(S.jsx)(Q,{})})]}),Object(S.jsxs)(p.a,{children:[Object(S.jsxs)(m.a,{lg:3,children:[Object(S.jsx)("h3",{children:"Gene distribution"}),Object(S.jsx)(_,{genotype:null===s||void 0===s||null===(e=s.eaState)||void 0===e?void 0:e.geneDistribution})]}),Object(S.jsxs)(m.a,{lg:3,children:[Object(S.jsx)("h3",{children:"Best genotype"}),Object(S.jsx)(_,{genotype:null===s||void 0===s||null===(t=s.eaState)||void 0===t?void 0:t.bestGenotype})]}),Object(S.jsxs)(m.a,{lg:3,children:[Object(S.jsx)("h3",{children:"Cell distribution"}),Object(S.jsx)(K,{phenotype:null===s||void 0===s||null===(i=s.eaState)||void 0===i?void 0:i.cellDistribution})]}),Object(S.jsxs)(m.a,{lg:3,children:[Object(S.jsx)("h3",{children:"Best phenotype"}),Object(S.jsx)(K,{phenotype:null===s||void 0===s||null===(a=s.eaState)||void 0===a?void 0:a.bestPhenotype})]})]})]})}function $(){return Object(S.jsx)(u.a,{children:Object(S.jsxs)(p.a,{children:[Object(S.jsx)(m.a,{xs:0,md:1,lg:2,xl:3}),Object(S.jsx)(m.a,{xs:12,md:10,lg:8,xl:6,children:Object(S.jsx)(B,{})}),Object(S.jsx)(m.a,{xs:0,md:1,lg:2,xl:3})]})})}function ee(){var e=Object(n.useContext)(P).eaControl;return Object(S.jsx)(S.Fragment,{children:e?Object(S.jsx)(Z,{}):Object(S.jsx)($,{})})}function te(){return Object(S.jsxs)(u.a,{children:[Object(S.jsx)(p.a,{className:"mt-3",children:Object(S.jsx)("p",{children:"This application lets you use a Genetic Algorithm to solve an optimization problems in Conway's Game of Life."})}),Object(S.jsx)(p.a,{as:"h2",children:"Conway's Game of Life"}),Object(S.jsxs)(p.a,{children:[Object(S.jsxs)("p",{children:[Object(S.jsx)("a",{href:"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life",children:"Conway's Game of Life"})," is a Cellular Automaton (CA) devised by John Conway. It consists of a simple set of rules that specify how a set of cells in a two-dimensional grid behave. Each cell can only have two states: dead or alive. The state of a cell in the next generation of the CA depends on its current state, as well as those of its eight neighbours."]}),Object(S.jsxs)("p",{children:["The rules are as follows:",Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:"An alive cell with two or three alive neighbours remains alive"}),Object(S.jsx)("li",{children:"A dead cell with exactly three alive neighbours becomes alive"}),Object(S.jsx)("li",{children:"The state of all other cells remains unchanged"})]})]})]}),Object(S.jsx)(p.a,{as:"h2",children:"The Optimization Problem"}),Object(S.jsxs)(p.a,{children:[Object(S.jsx)("p",{children:"You can solve variants of the following problem: Starting with an 8x8 group of cells at the center of the CA grid, what is the configuration that covers most of the grid?"}),Object(S.jsxs)("p",{children:["More specifically, the following aspects can be rewarded:",Object(S.jsxs)("ul",{children:[Object(S.jsxs)("li",{children:[Object(S.jsx)("em",{children:"Number of toggled cells"}),": The number of cells that were alive at least once"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("em",{children:"Maximum alive cells"}),": The maximum number of cells that were alive at a given moment"]}),Object(S.jsxs)("li",{children:[Object(S.jsx)("em",{children:"The number of cells at start"}),": The number of alive cells at the start"]})]}),"By specifying weights you control which aspects are considered. Aspects are ignored when the weight is zero. Via the sign of the weights you can choose if the objective is to maximise or minimize the aspect. Typically, the first two aspects are maximised and the last one minimized, but do what you like."]})]}),Object(S.jsx)(p.a,{as:"h2",children:"Genetic Algorithm"}),Object(S.jsxs)(p.a,{children:[Object(S.jsxs)("p",{children:["A ",Object(S.jsx)("em",{children:"Genetic Algorithm"})," (GA) is a nature-inspired optimization technique that mimics natural selection."]}),Object(S.jsxs)("p",{children:["A GA uses a ",Object(S.jsx)("em",{children:"population"})," of ",Object(S.jsx)("em",{children:"individuals"}),". Each individual has a ",Object(S.jsx)("em",{children:"genotype"}),", in this case a string of bits. Each genotype encodes a ",Object(S.jsx)("em",{children:"phenotype"}),", a possible solution to the problem. For this problem a neutral encoding is used, which means that many genotypes translate to the the same phenotype. This type of encoding can help to prevent premature convergence of the optimization algorithm. It can reduce the probability that the algorithm gets stuck in a poor quality sub-optimal solution."]}),Object(S.jsxs)("p",{children:["For each individual the GA determines a ",Object(S.jsx)("em",{children:"fitness"}),". For this problem, the GA does so as follows:",Object(S.jsxs)("ol",{children:[Object(S.jsx)("li",{children:"It creates a CA with a starting configuration as specified by the individual's phenotype"}),Object(S.jsx)("li",{children:"It executes the CA until it seems to have stabilized (according to some heuristic rules)"}),Object(S.jsx)("li",{children:"It calculates a fitness by scoring the aspects according to the configured weights"})]})]}),Object(S.jsxs)("p",{children:["The fitness is used to select individuals on which to base the next generation of the population. Individuals with a higher fitness are more likely to be selected. Individuals can reproduce in two different ways:",Object(S.jsxs)("ul",{children:[Object(S.jsxs)("li",{children:["An individual can reproduce sexually. In this case, two individuals are selected, and their genotypes are ",Object(S.jsx)("em",{children:"recombined"})," to form a new individual."]}),Object(S.jsx)("li",{children:"Alternatively, an individual reproduces a-sexually. It then reproduces by cloning its genotype."})]}),"In both cases, the genotype of the new individual is typically ",Object(S.jsx)("em",{children:"mutated"})," to introduce variation."]}),Object(S.jsxs)("p",{children:["Selection optionally uses ",Object(S.jsx)("em",{children:"elitism"}),". When enabled, the best individual is always selected and copied without mutation to the new generation. This ensures that the best solution is never forgotten. A drawback is that it can lead to premature convergence. Elitism reduces the genetic diversity, which may limit the quality of the solution that is found."]})]})]})}var ie=function(){var e,t=Object(n.useReducer)(A,w),i=Object(l.a)(t,2),a=i[0],s=i[1],c=Object(n.useReducer)(L,undefined),h=Object(l.a)(c,2),b=h[0],x=h[1],f=Object(n.useReducer)(W,I),O=Object(l.a)(f,2),m=O[0],p=O[1];return Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(j.a,{bg:"primary",variant:"dark",children:Object(S.jsxs)(u.a,{children:[Object(S.jsx)(j.a.Brand,{href:"#/",children:"Evolving Live"}),Object(S.jsxs)(d.a,{defaultActiveKey:"#/",children:[Object(S.jsx)(d.a.Link,{href:"#/",children:"GA"}),Object(S.jsx)(d.a.Link,{href:"#/ca",children:"CA"}),Object(S.jsx)(d.a.Link,{href:"#/help",children:"Help"})]})]})}),Object(S.jsx)(P.Provider,{value:{eaControl:b,eaControlDispatch:x},children:Object(S.jsx)(D.Provider,{value:{eaSettings:m,eaSettingsDispatch:p},children:Object(S.jsx)(y.Provider,{value:{caSettings:a,caSettingsDispatch:s},children:Object(S.jsx)(r.a,{basename:"/",children:Object(S.jsxs)(o.c,{children:[Object(S.jsx)(o.a,{exact:!0,path:"/",children:Object(S.jsx)(ee,{})}),Object(S.jsx)(o.a,{exact:!0,path:"/ca",children:Object(S.jsx)(q,{seed:null===b||void 0===b||null===(e=b.eaState)||void 0===e?void 0:e.bestPhenotype})}),Object(S.jsx)(o.a,{exact:!0,path:"/help",children:Object(S.jsx)(te,{})}),Object(S.jsxs)(o.a,{path:"*",children:[Object(S.jsx)("p",{children:"Page not found"}),Object(S.jsx)(r.b,{to:"/",children:"Go back"})]})]})})})})})]})},ne=function(e){e&&e instanceof Function&&i.e(4).then(i.bind(null,71)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;i(e),n(e),a(e),s(e),c(e)}))};c.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(ie,{})}),document.getElementById("root")),ne()}},[[62,1,2]]]);
//# sourceMappingURL=main.7b077dc9.chunk.js.map